"0","##This chunk is concerned with getting the API function working"
"0",""
"0","## Write a function to get any given page. After that I can just iterate while there are still jobs to find :)"
"0",""
"0","get_adzuna_api <- function(api_id, api_key, page, "
"0","                           key_words = c(""data"", ""analyst""), country = ""ch"") { #API ID and key are variables, so that they can remain secret"
"0","  "
"0","  key_words <- stringr::str_c(key_words[1], ""%20"", key_words[2]) #Can only take two key words. All needed for most data professions"
"0","  api_call_string <- stringr::str_c(""http://api.adzuna.com/v1/api/jobs/"", "
"0","                                    country, ""/search/"", page, ""?app_id="", "
"0","                                    api_id, ""&app_key="", api_key,"
"0","                                    ""&results_per_page=20&what="", key_words,"
"0","                                    ""&max_days_old=730&salary_include_unknown=1&content-type=application/json"")"
"0","  api_return <- GET(api_call_string)"
"0","  api_return_text <- content(api_return, ""text"")"
"0","  api_return_df <- jsonlite::fromJSON(api_return_text)"
"0","  "
"0","  api_return_df$results"
"0","}"
