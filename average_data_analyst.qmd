---
title: "The average Data Analyst job description"
author: "Pete Jacobsson"
from: markdown+emoji
format:
  html:
    theme: simplex
    css: styles.css
    sansfont: Corbel
    mainfont: Cambria
---

Hello everyone! The purpose of this little project is to work out what makes an average data analyst. If, like me, you've been around for a few years longer than the end of your undergraduate degree, you might also have the problem of how to figure out what to *cut* from your CV. Where this gets really interesting is the soft skills: should I push communication, or problem solving for example? Now, when applying for a job with a known job description this is not an issue - you just hack away things that match that description least. But what about the CV you take to conferences, networking events, or send to recruiters? If you're anything like me, you know that six pages is way too long, but what are the things to hack away? In principle, you can ask for a CV writing service advice. But that will cost you, and if you're a scrooge (like myself), paying is a deal breaker.

So I had a different idea - lets check what the average job description is and hack away things to match it. How to get the typical job description?

-   Get a lot of job descriptions (use API :grinning:)

-   Filter out the important stuff (use an LLM :smiley_cat:)

-   Analyze the results, work out what the descriptions require and hack your CV accordingly :scissors:


## Get the data
I will be looking for Data Analyst job posts from Switzerland. I'll use [Adzuna API](https://www.adzuna.ch/).

The core of the API request looks something like this:
```{r}
library(httr)
library(jsonlite)

## Write a function to get any given page. After that I can just iterate while there are still jobs to find :)

get_adzuna_api <- function(api_id, api_key, page, key_words) { #API ID and key are variables, so that they can remain secret
  
  key_words <- stringr::str_c(key_words[1], "%20", key_words[2]) #Can only take two key words. All needed for most data professions
  api_call_string <- stringr::str_c("http://api.adzuna.com/v1/api/jobs/ch/search/",  ##If I wanted to change country, it would be on this line
                                    page, "?app_id=", api_id, "&app_key=", api_key,
                                    "&results_per_page=20&what=", key_words,
                                    "&max_days_old=730&salary_include_unknown=1&content-type=application/json")
  api_return <- GET(api_call_string)
  api_return_text <- content(api_return, "text")
  api_return_df <- jsonlite::fromJSON(api_return_text)
  
  api_return_df$results
}



test <- get_adzuna_api(
  readLines("/home/pete/Documents/adzuna_api.txt")[1], 
  readLines("/home/pete/Documents/adzuna_api.txt")[2], 1,
  c("data", "analyst"))


test$description[1]

```


